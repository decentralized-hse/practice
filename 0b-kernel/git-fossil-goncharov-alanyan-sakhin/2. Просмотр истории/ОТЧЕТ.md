# Этап 2: Результаты сравнения операций просмотра и навигации

## 2.1. Операция: `git log` vs `fossil timeline`

**Функциональность:**

**Git `log`:**
- Показывает историю коммитов в обратном хронологическом порядке
- Поддерживает множество опций форматирования (`--oneline`, `--format`, `--graph` и т.д.)
- Фильтрация по автору (`--author`), дате (`--since`, `--until`), файлу (`-- <path>`), ветке и т.д.
- Может показывать историю всех веток (`--all`) или конкретной ветки

**Fossil `timeline`:**
- Показывает временную линию событий (коммиты, merge, branch и т.д.)
- Группирует события по датам
- Показывает теги и ветки, связанные с каждым коммитом
- Поддерживает фильтрацию по пользователю (`--user`), типу события (`--type`), лимиту (`--limit`)
- По умолчанию показывает полное сообщение коммита

**Производительность:**

| Объем данных | `git log` | `fossil timeline` | Соотношение |
|--------------|-----------|-------------------|-------------|
| 100 коммитов | 0.013 сек | 0.014 сек | ~1:1 |
| 1 000 коммитов | 0.021 сек | 0.084 сек | ~1:4 |
| 10 000 коммитов | 0.170 сек | 0.857 сек | ~1:5 |
| Все коммиты (196 325) | 1.302 сек | 12.931 сек | ~1:10 |

**Наблюдения:**
- Разница в производительности увеличивается с ростом объема данных
- Fossil показывает больше информации по умолчанию (теги, ветки), что влияет на производительность на больших объемах

**Выводы:**
- **Git** лучше подходит для быстрого просмотра истории с настраиваемым форматом
- **Fossil** предоставляет больше контекста по умолчанию (теги, ветки), но менее гибкий в форматировании
- **Производительность**: Git быстрее на больших объемах данных
- **Удобство**: Git более гибкий для фильтрации, Fossil более информативный по умолчанию

## 2.2. Операция: `git show` vs `fossil diff` / `fossil cat` / `fossil info`

**Функциональность:**

**Git `show`:**
- Показывает информацию о коммите: метаданные (автор, дата, сообщение), родители, статистику изменений и сам diff
- Может показывать содержимое файла на конкретном коммите: `git show <commit>:<file>`
- Поддерживает множество опций форматирования (`--stat`, `--format`, `--name-only` и т.д.)
- Показывает diff между коммитом и его родителем

**Fossil:**
- `fossil info <commit>` - показывает метаданные коммита (хеш, родители, теги, сообщение)
- `fossil diff <from> <to>` - показывает diff между двумя коммитами
- `fossil cat <file> -r <commit>` - показывает содержимое файла на конкретном коммите
- Нет единой команды, эквивалентной `git show` - требуется комбинация команд

**Производительность:**

| Операция | `git show` | Fossil (комбинация) |
|----------|------------|---------------------|
| Просмотр коммита | 0.011 сек | ~0.020 сек (info + diff) |
| Просмотр файла | 0.001 сек | 0.001 сек |

**Наблюдения:**
- Git быстрее для просмотра полной информации о коммите (одна команда)
- Fossil требует несколько команд для получения той же информации
- Просмотр файлов работает одинаково быстро в обеих системах

**Выводы:**
- **Git** предоставляет более удобный единый интерфейс через `show`
- **Fossil** разделяет функциональность на специализированные команды, что может быть более понятным
- **Производительность**: Git немного быстрее за счет одной команды вместо нескольких
- **Информативность**: Fossil показывает больше метаданных

## 2.3. Операция: `git blame` vs `fossil annotate`

**Функциональность:**

**Git `blame`:**
- Показывает автора и дату последнего изменения для каждой строки файла
- Отображает имя автора, дату, хеш коммита и номер строки
- Поддерживает множество опций: `--show-email`, `-L` (диапазон строк), `-w` (игнорирование пробелов), `-M` (поиск перемещений) и т.д.
- Может работать с конкретным коммитом: `git blame <commit> <file>`

**Fossil `annotate`:**
- Показывает хеш коммита и дату последнего изменения для каждой строки файла
- Компактный формат: хеш, дата, номер строки, содержимое
- Не показывает имя автора по умолчанию
- Может работать с конкретным коммитом: `fossil annotate <file> -r <commit>`

**Производительность:**

| Операция | Git `blame` | Fossil `annotate` |
|----------|-------------|-------------------|
| Файл abspath.c (328 строк) | 0.164 сек | 0.026 сек |

**Наблюдения:**
- Fossil быстрее на этом файле (примерно в 6 раз)
- Git показывает больше информации (имя автора), что может влиять на производительность

**Выводы:**
- **Git** предоставляет больше информации и опций для анализа
- **Fossil** быстрее и имеет более компактный формат, но менее информативен
- **Производительность**: Fossil быстрее на тестируемом файле
- **Информативность**: Git показывает больше данных по умолчанию

## 2.4. Операция: `git diff` vs `fossil diff`

**Функциональность:**

**Git `diff`:**
- Показывает различия между двумя состояниями (коммитами, ветками, рабочим деревом)
- Поддерживает множество форматов вывода (`--stat`, `--name-only`, `--numstat`, `--summary` и т.д.)
- Может сравнивать коммиты, ветки, рабочий каталог и индекс
- Поддерживает синтаксис `^1`, `~1` для указания родителей
- Множество опций форматирования (`--unified`, `--color`, `--no-prefix` и т.д.)

**Fossil `diff`:**
- Показывает различия между двумя коммитами
- Базовый формат вывода (unified diff)
- Требует указания двух коммитов явно
- Не поддерживает синтаксис `^1` для родителей (нужно использовать parent напрямую)
- Ограниченный набор опций форматирования

**Производительность:**

| Операция | Git `diff` | Fossil `diff` |
|----------|------------|---------------|
| Сравнение двух коммитов | 0.010-0.012 сек | 0.022-0.029 сек |

**Наблюдения:**
- Git быстрее примерно в 2 раза
- Обе команды работают достаточно быстро для практического использования
- Производительность зависит от размера изменений

**Выводы:**
- **Git** предоставляет более богатый набор опций и форматов вывода
- **Fossil** имеет более простую команду, но с ограниченными возможностями
- **Производительность**: Git быстрее примерно в 2 раза
- **Гибкость**: Git значительно более гибкий в форматировании и сравнении различных состояний

## 2.5. Операция: Переключение между коммитами и ветками (`git checkout` vs `fossil update`)

**Функциональность:**

**Git `checkout`:**
- Переключает рабочую директорию на указанный коммит, ветку или тег
- Обновляет файлы в рабочей директории до состояния указанного коммита
- Обновляет HEAD на указанный коммит/ветку
- Может переключаться между ветками: `git checkout <branch>`
- Может переключаться на конкретный коммит: `git checkout <commit>`
- Может переключаться на тег: `git checkout <tag>`
- Предупреждает о несохраненных изменениях

**Fossil `update`:**
- Обновляет рабочую директорию до указанного коммита или ветки
- Переключает checkout на указанный коммит/ветку
- Может переключаться между ветками: `fossil update <branch>`
- Может переключаться на конкретный коммит: `fossil update <uuid>`
- Может переключаться на тег: `fossil update <tag>`
- Требует чистой рабочей директории

**Различия:**

**Git:**
- Можно создать ветку из detached HEAD: `git checkout -b new-branch`
- Более гибкое управление состоянием рабочей директории

**Fossil:**
- Всегда работает с конкретным checkout
- Нет концепции "detached HEAD" - всегда привязан к коммиту
- Требует чистой рабочей директорию для переключения
- Более строгий подход к управлению состоянием

**Производительность:**

| Операция | Git `checkout` | Fossil `update` |
|----------|----------------|-----------------|
| Переключение на ветку | 0.010-0.050 сек | 0.020-0.080 сек |
| Переключение на коммит | 0.010-0.050 сек | 0.020-0.080 сек |

**Наблюдения:**
- Fossil может быть немного медленнее из-за проверок состояния
- Разница незначительна для практического использования

**Выводы:**
- **Git**: Более гибкий для переключения между коммитами и ветками
- **Fossil**: Более строгий подход, требует чистого состояния
- **Производительность**: Сопоставима для обеих систем
- **Гибкость**: Git позволяет работать в detached HEAD, Fossil всегда привязан к коммиту
- **Безопасность**: Fossil более защищен от случайной потери данных
